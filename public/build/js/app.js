const body=document.querySelector("body");function iniciarApp(){darkMode(),tabs(),goBack(),consultarAPI()}function darkMode(){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=document.querySelector(".app"),o=document.querySelectorAll(".boton");e.matches?(body.classList.add("dark-mode"),t.classList.add("dark-mode"),o.forEach(e=>{e.classList.add("dark-mode")})):(body.classList.remove("dark-mode"),t.classList.remove("dark-mode"),butons.forEach(e=>{e.classList.remove("dark-mode")}))}function tabs(){const e=body.querySelectorAll(".menu_item"),t=window.location.pathname;e.forEach(e=>{const o=e.children[0],a=new URL(o.href).pathname;(t===a||"/index.php"===t&&"/"===a)&&e.classList.add("active")})}function goBack(){const e=body.querySelector(".boton_back");e&&e.addEventListener("click",e=>{window.history.back()})}function editarProducto(e){console.log(e)}function eliminarProducto(e){console.log(e)}function consultarAPI(){consultarUsuarios()}async function consultarUsuarios(){try{let e="http://localhost:3000/api/usuarios",t=await fetch(e);(await t.json()).forEach(e=>{const{user_id:t,user_nombre:o,user_correo:a,rol_nombre:c}=e,n=document.createElement("TD");n.textContent=o;const s=document.createElement("TD");s.textContent=c;const d=document.createElement("TD");d.textContent=a;const r=document.createElement("I");r.classList.add("fa-solid"),r.classList.add("fa-pen-to-square");const i=document.createElement("BUTTON");i.classList.add("table_actions"),i.classList.add("edit"),i.appendChild(r);const l=document.createElement("I");l.classList.add("fa-solid"),l.classList.add("fa-trash");const u=document.createElement("BUTTON");u.classList.add("table_actions"),u.classList.add("delete"),u.appendChild(l);const m=document.createElement("TD");m.appendChild(i),m.appendChild(u);const p=[n,s,d,m],h=document.createElement("TR");h.classList.add("table_row"),p.forEach(e=>{h.appendChild(e)}),body.querySelector("#usuarios").appendChild(h)})}catch(e){console.log("Error"+e)}}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));